@model IEnumerable<Lustrious.Models.Usuario>

@{
 ViewData["Title"] = "Funcionários";
 ViewData["HideFooter"] = true;
 var role = Context.Session.GetString("UserRole") ?? string.Empty;
 bool isAdmin = role.ToLower() == "admin";
 bool isStaff = role.ToLower() == "admin" || role.ToLower() == "funcionario";
}

<main class="main-content">
 <div class="card">
 <div class="card-header">
 <h2>FUNCIONÁRIOS</h2>
 @if (isAdmin)
 {
 <a class="new-btn" asp-controller="Funcionario" asp-action="CriarFuncionario">NOVO FUNCIONARIO</a>
 }
 </div>

 @if (TempData["ok"] != null)
 {
 <div class="alert-success">@TempData["ok"]</div>
 }
 @if (TempData["erro"] != null)
 {
 <div class="alert-danger">@TempData["erro"]</div>
 }

 <table class="table-clientes">
 <thead>
 <tr>
 <th>NOME</th>
 <th>EMAIL</th>
 <th>SEXO</th>
 <th>CPF</th>
 <th>ROLE</th>
 <th>Ações</th>
 </tr>
 </thead>

 <tbody>
 @foreach (var funcionario in Model)
 {
 <tr>
 <td>@funcionario.Nome</td>
 <td>@funcionario.Email</td>
 <td>@funcionario.Sexo</td>
 <td>@funcionario.CPF</td>
 <td>@funcionario.Role</td>
 <td>
 @if (isStaff)
 {
 <a class="edit-btn" asp-controller="Funcionario" asp-action="EditarFuncionario" asp-route-id="@funcionario.IdUser">EDITAR</a>

 @if (isAdmin)
 {
 <form asp-controller="Funcionario" asp-action="ExcluirFuncionario" method="post" style="display:inline;">
 @Html.AntiForgeryToken()
 <input type="hidden" name="id" value="@funcionario.IdUser" />
 <button type="submit" class="delete-btn" onclick="return confirm('Deseja realmente Excluir este item?');">EXCLUIR</button>
 </form>
 }
 }
 </td>
 </tr>
 }
 </tbody>
 </table>
 </div>
</main>

<style>
 body { margin:0; padding:0; background-color: #FFEFCC; font-family: 'Times New Roman', serif; }

 .main-content { display: flex; justify-content: center; padding:40px0; }

 .card { background: #fff6c6; width:70%; border-radius:15px; padding:25px; border:4px solid #d6b36a; }

 .card-header { display: flex; justify-content: space-between; align-items: center; }

 /* Botão NOVO é seguindo padrão EDITAR */
 .new-btn { background: #d6b36a; color: white; padding:8px18px; border-radius:10px; text-decoration: none; font-weight: bold; transition:0.2s; }
 .new-btn:hover { background: #e7c67a; color: white; }

 /* Tabela */
 .table-clientes { width:100%; border-collapse: collapse; margin-top:20px; }

 .table-clientes th { text-align: left; padding:12px0; font-weight: bold; border-bottom:2px solid #d6b36a; }

 .table-clientes td { padding:12px0; vertical-align: middle; }

 /* ----------- BOTÕES PADRÃO (EDITAR / EXCLUIR) ---------------- */

 /* EDITAR é padrão correto */
 .edit-btn { background: #d6b36a; color: white; padding:8px16px; border-radius:8px; text-decoration: none; font-weight: bold; transition:0.2s; border: none; }
 .edit-btn:hover { background: #e7c67a; color: white; }

 /* EXCLUIR é padrão correto */
 .delete-btn { background: #a04444; color: white; padding:8px16px; border-radius:8px; border: none; font-weight: bold; cursor: pointer; transition:0.2s; }
 .delete-btn:hover { background: #b85a5a; color: white; }

 /* Foto */
 .cliente-foto { width:60px; height:60px; object-fit: cover; border-radius:8px; border:2px solid #e6d6a8; }

 /* Alerts */
 .alert-success { padding:10px; background: #d4edda; color: #155724; border:1px solid #c3e6cb; border-radius:6px; margin-bottom:10px; }

 .alert-danger { padding:10px; background: #f8d7da; color: #721c24; border:1px solid #f5c6cb; border-radius:6px; margin-bottom:10px; }
</style>
