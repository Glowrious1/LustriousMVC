@model Lustrious.Models.Usuario

@{
    ViewData["Title"] = "Editar Cliente";
}

<style>
    /* body */
    body {
        font-family: Arial, sans-serif;
        background: #c7b99a;
        margin: 0;
        padding: 0;
    }

    .container {
        width: 70%;
        margin: 40px auto;
        background: #fff9d6;
        border: 4px solid #b8995e;
        border-radius: 20px;
        padding: 30px;
    }

    h2 {
        text-align: center;
        margin-bottom: 25px;
        color: #3a2f1b;
    }

    .form-group {
        margin-bottom: 15px;
        font-weight: bold;
        font-size: 14px;
    }

    input[type="text"],
    input[type="email"],
    input[type="password"] {
        width: 60%;
        padding: 10px;
        border: 2px solid #ccb27a;
        border-radius: 6px;
        font-size: 14px;
    }

    .foto-container {
        width: 230px;
        height: 260px;
        background: #fffefa;
        border: 3px solid #c6a96b;
        border-radius: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }

    .foto-preview {
        width: 150px;
        object-fit: cover;
    }

    .row {
        display: flex;
        justify-content: space-between;
    }

    .button-row {
        margin-top: 20px;
        display: flex;
        gap: 20px;
    }

    button {
        padding: 10px 25px;
        border-radius: 10px;
        border: none;
        font-weight: bold;
        cursor: pointer;
    }
    /* Editar */
    .editar {
        border-radius: 10px;
        border: none;
        font-weight: bold;
        cursor: pointer;
        text-decoration: none;
        display: inline-block;
        text-align: center;
    }

    .cancelar {
        background: #b34747;
        color: white;
    }

    .select-sexo {
        width: 150px;
        padding: 10px;
        border: 2px solid #ccb27a;
        border-radius: 6px;
        font-size: 14px;
    }
</style>

<form class="container" asp-action="EditarCliente" method="post" enctype="multipart/form-data">
    @Html.AntiForgeryToken()

    <h2>EDITAR CLIENTE</h2>

    <div class="row">

        <div>
            <input asp-for="IdUser" type="hidden" />

            <div class="form-group">NOME DO CLIENTE:</div>
            <input asp-for="Nome" type="text" placeholder="Digite o nome aqui..." />
            <span asp-validation-for="Nome" class="text-danger"></span>

            <div class="form-group">EMAIL:</div>
            <input asp-for="Email" type="email" placeholder="Digite o email aqui..." />
            <span asp-validation-for="Email" class="text-danger"></span>

            <div class="form-group">SENHA:</div>
            <input asp-for="Senha" type="password" placeholder="Digite a senha aqui..." />
            <span asp-validation-for="Senha" class="text-danger"></span>

            <div class="form-group">CPF:</div>
            <input asp-for="CPF" type="text" placeholder="Digite o CPF aqui..." />
            <span asp-validation-for="CPF" class="text-danger"></span>

            <div class="form-group">SEXO:</div>
            <select asp-for="Sexo" class="select-sexo">
                <option value="Masculino">Masculino</option>
                <option value="Feminino">Feminino</option>
                <option value="Outro">Outro</option>
            </select>
        </div>

        <!-- FOTO -->
        <label class="foto-container" for="fotoInput">
            <img src="@(string.IsNullOrWhiteSpace(Model?.Foto) ? Url.Content("~/imagens/capa_foto.png") : Url.Content("~/" + Model.Foto))" class="foto-preview" id="fotoPreview" />
            <input type="file" id="fotoInput" name="foto" accept="image/*" style="opacity:0;position:absolute;left:0;top:0;width:100%;height:100%;cursor:pointer;" />
        </label>

    </div>

    <!-- Botões -->
    <div class="button-row">
        <button type="submit" class="editar">EDITAR</button>
        <a asp-action="Index" asp-controller="Cliente" class="cancelar">CANCELAR</a>
    </div>
</form>

<script>
    (function(){
        var input = document.getElementById('fotoInput');
        var preview = document.getElementById('fotoPreview');
        if(!input) return;
        input.addEventListener('change', function(e){
            var file = input.files && input.files[0];
            if(!file) return;
            var reader = new FileReader();
            reader.onload = function(ev){
                preview.src = ev.target.result;
            };
            reader.readAsDataURL(file);
        });
    })();
</script>
